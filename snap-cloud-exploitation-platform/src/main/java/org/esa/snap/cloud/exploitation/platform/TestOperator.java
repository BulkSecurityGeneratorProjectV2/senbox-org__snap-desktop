package org.esa.snap.cloud.exploitation.platform;


import org.esa.snap.core.gpf.main.GPT;

import java.io.File;
import java.nio.file.FileStore;
import java.nio.file.Files;
import java.nio.file.Path;
import java.nio.file.Paths;

public class TestOperator {

    public static void main(String args11[]) throws Exception {
        System.out.println("Execute TestOperator...");

        String path = "\\\\192.168.60.245\\shared\\3_8bit_components_srgb.tif";
        File f = new File(path);
        Path pp = Paths.get("K:\\dd");
//        FileStore fs = Files.getFileStore(pp.getRoot());
//        String t = fs.type();

        String remoteMachines = "<remote-machines><machine host='192.168.61.19' port='22' operating-system='Linux' username='jean' password='jean' shared-folder='/home/jean/shared-ide'/></remote-machines>";
        String sourceProductFiles = "<source-product-files><file path='\\\\192.168.60.245\\shared\\3_8bit_components_srgb.tif'/></source-product-files>";
        String[] args = new String[]{"CloudExploitationPlatformOp",
                "-PmasterSharedFolderURL=//192.168.60.245/shared",
                "-PmasterSharedFolderUsername=jcoravu",
                "-PmasterSharedFolderPassword=jcoravu3",

                "-PlocalSharedFolderPath=T:",
//                "-PlocalPassword=jean",

//                "-PslaveGraphFilePath=/home/jean/cep-module-data/slaveGraph-new.xml",
//                "-PtargetGraphFilePath=/home/jean/cep-module-data/targetGraph-new.xml",
                "-PslaveGraphFilePath=//192.168.60.245/shared/slaveGraph-new.xml",
                "-PmasterGraphFilePath=//192.168.60.245/shared/targetGraph-new.xml",

                "-PtargetProductFilePath=D:\\output-cep-product/cep-gpt-product",
                "-PtargetProductFormatName=BEAM-DIMAP",
                "-PcontinueOnFailure=false",
                "-PwaitingSecondsTimeout=20",
                "-PremoteMachines=" + remoteMachines,
                "-PsourceProductFiles=" + sourceProductFiles
        };


//        String path = "\\\\192.168.60.245\\shared\\3_8bit_components_srgb.tif";
//        path = "/home/jean/shared-test/3_8bit_components_srgb.tif";
//        File f = new File(path);
//        Path p = Paths.get(path);
//        boolean fileExists = f.exists();
//        boolean pathExists = f.exists();
//        System.out.println("path='"+path+"'   fileExists="+fileExists+"  pathExists="+pathExists);

        GPT.run(args);
        System.out.println("");
    }
}
