package org.esa.snap.cloud.exploitation.platform.operator;

import org.esa.snap.cloud.exploitation.platform.CommandExecutorUtils;
import org.esa.snap.cloud.exploitation.platform.UnixMountLocalFolderResult;
import org.esa.snap.cloud.exploitation.platform.topology.IUnmountLocalSharedFolderCallback;
import org.esa.snap.ui.loading.ILoadingIndicator;

public class UnmountLinuxLocalFolderTimerRunnable extends UnmountMacLocalFolderTimerRunnable {

    private final String localPassword;

    public UnmountLinuxLocalFolderTimerRunnable(ILoadingIndicator loadingIndicator, int threadId, String localSharedFolderPath,
                                                String localPassword, UnixMountLocalFolderResult localMachineLinuxMountFolder, IUnmountLocalSharedFolderCallback callback) {

        super(loadingIndicator, threadId, localSharedFolderPath, localMachineLinuxMountFolder, callback);

        this.localPassword = localPassword;
    }

    @Override
    protected Void execute() throws Exception {
        CommandExecutorUtils.unmountLinuxLocalFolder(this.localSharedFolderPath, this.localPassword, this.localMachineLinuxMountFolder);
        return null;
    }
}
